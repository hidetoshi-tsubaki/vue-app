(function(e){function t(t){for(var s,r,o=t[0],l=t[1],c=t[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(s=!1)}s&&(n.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},i={app:0},n=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},1207:function(e,t,a){},"1b12":function(e,t,a){},2080:function(e,t,a){},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=n(e);return a(t)}function n(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=n,e.exports=i,i.id="4678"},"485d":function(e,t,a){"use strict";a("1207")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("a026"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticStyle:{"min-width":"320px"}},[a("Header"),a("v-main",{staticClass:"pt-sm-5 main_wrapper",staticStyle:{"background-color":"#F9FBFE"}},[a("FlashMessage"),a("v-container",{attrs:{fluid:""}},[a("router-view")],1)],1),a("Footer")],1)},n=[],r=a("5530"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return this.userToken?a("header",[a("v-app-bar",{staticClass:"amber darken-3 white--text",attrs:{dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!0}}}),a("v-toolbar-title",{staticClass:"text-subtitle-2 font-weight-bold"},[a("router-link",{staticClass:"white--text",attrs:{to:"/dashboard"}},[e._v("JP Language Lab")])],1),a("v-spacer"),a("v-app-bar-title",{staticClass:"text-caption text-sm-h6 font-weight-bold"},[e._v(" Lv. "+e._s(this.user.Level)+" ")])],1),a("v-navigation-drawer",{attrs:{fixed:"",permanent:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{nav:"",dense:""}},[a("v-list-item-group",[a("v-list-item",{attrs:{to:"/dashboard"}},[a("v-list-item-title",[e._v("Dashboard")])],1),a("v-list-item",{attrs:{to:"/user/ranking"}},[a("v-list-item-title",[e._v("Ranking")])],1),a("v-list-item",{attrs:{to:"/user/setting"}},[a("v-list-item-title",[e._v("Account Setting")])],1),a("v-list-item",[a("v-list-item-title",{on:{click:this.userLogout}},[e._v("Log Out")])],1)],1)],1)],1)],1):this.adminToken?a("header",[a("v-app-bar",{staticClass:"amber darken-3 white--text",attrs:{dark:""}},[a("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!0}}}),a("v-toolbar-title",{staticClass:"text-subtitle-2 font-weight-bold"},[a("router-link",{staticClass:"white--text",attrs:{to:"/dashboard"}},[e._v("JP Language Lab")])],1)],1),a("v-navigation-drawer",{attrs:{fixed:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{nav:"",dense:""}},[a("v-list-item-group",[a("v-list-item",{attrs:{to:"/admin/home"}},[a("v-list-item-title",[e._v("Dashboard")])],1),a("v-list-item",{attrs:{to:"/admin/users"}},[a("v-list-item-title",[e._v("Users")])],1),a("v-list-item",{attrs:{to:"/admin/quiz_levels"}},[a("v-list-item-title",[e._v("Quiz Levels")])],1),a("v-list-item",{attrs:{to:"/admin/quiz_sections"}},[a("v-list-item-title",[e._v("Quiz Sections")])],1),a("v-list-item",{attrs:{to:"/admin/quiz_titles"}},[a("v-list-item-title",[e._v("Quiz Titles")])],1),a("v-list-item",{attrs:{to:"/admin/setting"}},[a("v-list-item-title",[e._v("Setting")])],1),a("v-list-item",[a("v-list-item-title",{on:{click:this.adminLogout}},[e._v("Log Out")])],1)],1)],1)],1)],1):a("header",[a("v-app-bar",{staticClass:"amber darken-3"},[a("v-toolbar-title",{staticClass:"text-center white--text"},[e._v("JP Language Lab")])],1)],1)},l=[],c=a("2f62"),d={data:function(){return{drawer:!1}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(c["c"])({user:"userLoginStatus/user"})),Object(c["c"])({userToken:"userLoginStatus/token"})),Object(c["c"])({adminToken:"adminLoginStatus/token"})),methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])({userLogout:"userLoginStatus/unauthorize"})),Object(c["b"])({adminLogout:"adminLoginStatus/unauthorize"}))},u=d,m=(a("d04e"),a("2877")),h=a("6544"),v=a.n(h),f=a("40dc"),p=a("5bc1"),g=a("bb78"),b=a("8860"),x=a("da13"),z=a("1baa"),I=a("5d23"),y=a("f774"),w=a("2fa4"),_=a("2a7f"),C=Object(m["a"])(u,o,l,!1,null,null,null),M=C.exports;v()(C,{VAppBar:f["a"],VAppBarNavIcon:p["a"],VAppBarTitle:g["a"],VList:b["a"],VListItem:x["a"],VListItemGroup:z["a"],VListItemTitle:I["b"],VNavigationDrawer:y["a"],VSpacer:w["a"],VToolbarTitle:_["a"]});var k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-footer",{attrs:{padless:""}},[a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[e._v(" JP Language Lab © "+e._s((new Date).getFullYear())+" ")])],1)},j=[],D=a("62ad"),S=a("553a"),Q={},q=Object(m["a"])(Q,k,j,!1,null,null,null),T=q.exports;v()(q,{VCol:D["a"],VFooter:S["a"]});var O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.flashMessage,expression:"flashMessage"}],staticClass:"flash_message",attrs:{dense:"",border:"left",color:e.messageColor,type:e.flashMessage.type,transition:"scroll-y-transition"}},[e._v(" "+e._s(e.flashMessage.message)+" ")])},V=[],L={computed:Object(r["a"])(Object(r["a"])({},Object(c["c"])({flashMessage:"flashMessage/getFlashMessage"})),{},{messageColor:function(){var e=this.flashMessage.type;return"success"===e?"green":"error"===e?"yellow":"warning"===e?"red":"blue"}})},E=L,A=(a("ee23"),a("0798")),N=Object(m["a"])(E,O,V,!1,null,"5374a8d8",null),$=N.exports;v()(N,{VAlert:A["a"]});var P={name:"App",components:{Header:M,Footer:T,FlashMessage:$},methods:Object(r["a"])({},Object(c["b"])({setFlashMessage:"flashMessage/setFlashMessage"}))},F=P,R=(a("034f"),a("7496")),H=a("a523"),U=a("f6c4"),B=Object(m["a"])(F,i,n,!1,null,null,null),J=B.exports;v()(B,{VApp:R["a"],VContainer:H["a"],VMain:U["a"]});var K=a("8c4f"),Y=a("0e44"),W={namespaced:!0,state:{user:"",token:""},getters:{user:function(e){return e.user},token:function(e){return e.token}},mutations:{setUser:function(e,t){e.user=t},authorize:function(e,t){e.token=t.Token.token,e.user=t.User},unauthorize:function(e){e.token="",e.user="",window.localStorage.removeItem("vuex"),li.push({path:"/"})}},actions:{setUser:function(e,t){var a=e.commit;a("setUser",t)},authorize:function(e,t){var a=e.commit;a("authorize",t)},unauthorize:function(e){var t=e.commit;t("unauthorize")}}},G=W,X={namespaced:!0,state:{token:""},getters:{token:function(e){return e.token}},mutations:{authorize:function(e,t){e.token=t},unauthorize:function(e){e.token="",window.localStorage.removeItem("vuex"),li.push({path:"/"})}},actions:{authorize:function(e,t){var a=e.commit;a("authorize",t)},unauthorize:function(e){var t=e.commit;t("unauthorize")}}},Z=X,ee={namespaced:!0,state:{contents:""},getters:{getFlashMessage:function(e){return e.contents}},mutations:{set:function(e,t){e.contents=t,setTimeout((function(){return e.contents=""}),2e3)}},actions:{set:function(e,t){var a=e.commit;a("set",t)}}},te=ee;s["a"].use(c["a"]);var ae=new c["a"].Store({modules:{adminLoginStatus:Z,flashMessage:te,userLoginStatus:G},plugins:[Object(Y["a"])({key:"japaneseLangualgeLab",paths:["userLoginStatus.token","userLoginStatus.user","adminLoginStatus.token"],storage:window.sessionStorage})]}),se=ae,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{align:"center"}},[e._m(0),a("v-card",{staticStyle:{"max-width":"420px"}},[a("v-card-text",[a("Login"),a("v-divider",{staticClass:"mt-3 mb-3"}),a("v-card-actions",{staticClass:"justify-center"},[a("v-btn",{attrs:{to:"/",width:"70%",color:"green accent-4 white--text font-weight-bold"},on:{click:function(t){t.stopPropagation(),e.dialog=!0}}},[e._v(" Create Account ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-actions",{staticClass:"text-right"},[a("v-btn",{staticClass:"align-right",attrs:{icon:"",small:""},on:{click:function(t){e.dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("v-card-text",[a("v-card-title",{staticClass:"headline justify-center font-weight-bold"},[e._v("Create Account")]),a("Signup")],1)],1)],1)],1)},ne=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb-4 mb-sm-10 text-center"},[a("p",{staticClass:"text-h5 text-sm-h4 font-weight-bold amber--text text--darken-3"},[e._v(" JP Language Lab ")]),a("p",{staticClass:"mt-7 text-h6 text-sm-h4"},[e._v(" Improve your Japanese skill "),a("br"),e._v("on JP Language Lab ")])])}],re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ErrorMessages",{attrs:{errorMessages:this.errorMessages}}),a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[a("MyInput",e._b({attrs:{label:"Name","prepend-icon":"mdi-account-circle"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},"MyInput",e.nameRules,!1)),a("MyPasswordInput",{attrs:{label:"Password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-card-actions",{staticClass:"justify-center"},[a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"primary",width:"100%"},on:{click:e.login}},[e._v(" log in ")])],1)],1)],1)},oe=[],le=(a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.errorMessages,(function(t,s){return a("v-alert",{key:s,staticClass:"font-weight-bold",attrs:{outlined:"",type:"error",dense:""}},[e._v(" "+e._s(t)+" ")])})),1)}),ce=[],de={props:{errorMessages:Array}},ue=de,me=Object(m["a"])(ue,le,ce,!1,null,null,null),he=me.exports;v()(me,{VAlert:A["a"]});var ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-text-field",{attrs:{label:e.label,rules:e.rules,counter:e.max,"prepend-icon":e.prependIcon,type:e.type},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})},fe=[],pe=(a("a9e3"),a("99af"),{name:"MyInput",props:{value:{type:String,required:!0},label:{type:String},type:{type:String,default:"text"},prependIcon:{type:String},required:{type:Boolean,default:!1},max:{type:Number},allowSpace:{type:Boolean,default:!1}},computed:{inputValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},rules:function(){var e=this,t=[];if(this.max){var a=function(t){return(t||"").length<=e.max||"".concat(e.label," must be less than ").concat(e.max," characters")};t.push(a)}if(this.required){var s=function(t){return!!t||"".concat(e.label," is required")};t.push(s)}if(this.allowSpace){var i=function(e){return(e||"").indexOf(" ")<0||"No spaces are allowed"};t.push(i)}return t}}}),ge=pe,be=a("8654"),xe=Object(m["a"])(ge,ve,fe,!1,null,null,null),ze=xe.exports;v()(xe,{VTextField:be["a"]});var Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-text-field",{attrs:{label:e.label,rules:e.passwordRule,counter:e.max,"prepend-icon":"mdi-lock",type:e.showPassword?"text":"password","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})},ye=[],we={name:"MyPasswordInput",props:{value:{type:String,required:!0},label:{type:String,required:!0},max:{type:String}},data:function(){var e=this;return{passwordRule:[function(t){return!!t||"".concat(e.label," is required")},function(t){return t&&t.length<=40||"".concat(e.label," must be less than 40 characters")},function(e){return(e||"").indexOf(" ")<0||"No spaces are allowed"}],showPassword:!1}},computed:{inputValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},_e=we,Ce=Object(m["a"])(_e,Ie,ye,!1,null,null,null),Me=Ce.exports;v()(Ce,{VTextField:be["a"]});var ke={name:"Login",components:{ErrorMessages:he,MyInput:ze,MyPasswordInput:Me},data:function(){return{name:"",password:"",confirmPassword:"",errorMessages:[],nameRules:{required:!0,allowSpaces:!1},showPassword:!1}},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])({authorize:"userLoginStatus/authorize"})),{},{validate:function(){return!!this.$refs.form.validate()},login:function(){var e=this;this.validate()&&this.$axios.post("/login",{Name:this.name,Password:this.password}).then((function(t){null!=t.data.ErrorMessages?e.errorMessages=t.data.ErrorMessages:(e.authorize(t.data),e.$router.push({path:"/dashboard"}))})).catch((function(t){console.log(t),e.errorMessages=["Something went wrong. Please try again"]}))}})},je=ke,De=a("8336"),Se=a("99d9"),Qe=a("4bd4"),qe=Object(m["a"])(je,re,oe,!1,null,null,null),Te=qe.exports;v()(qe,{VBtn:De["a"],VCardActions:Se["a"],VForm:Qe["a"]});var Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ErrorMessages",{attrs:{errorMessages:this.errorMessages}}),a("v-form",{ref:"form"},[a("MyInput",e._b({attrs:{label:"Name","prepend-icon":"mdi-account-circle"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},"MyInput",e.nameRules,!1)),a("MyPasswordInput",{attrs:{label:"Password",max:"40"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("MyConfirmPasswordInput",{attrs:{originPassword:e.password,max:"40"},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),a("v-card-actions",{staticClass:"justify-center"},[a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"green accent-4 white--text font-weight-bold",width:"50%"},on:{click:e.signup}},[e._v(" Sign up ")])],1)],1)],1)},Ve=[],Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-text-field",{attrs:{label:"Confirm Password",rules:e.confirmPasswordRule,counter:40,"prepend-icon":"mdi-lock",type:e.showPassword?"text":"password","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})},Ee=[],Ae={name:"MyConfirmPasswordInput",props:{value:{type:String,required:!0},originPassword:{type:String,required:!0}},data:function(){var e=this;return{confirmPasswordRule:[function(t){return t&&t==e.originPassword||"Please make sure your new passwords match"},function(e){return(e||"").indexOf(" ")<0||"No spaces are allowed"}],showPassword:!1}},computed:{inputValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}},Ne=Ae,$e=Object(m["a"])(Ne,Le,Ee,!1,null,null,null),Pe=$e.exports;v()($e,{VTextField:be["a"]});var Fe={name:"SignUp",components:{ErrorMessages:he,MyInput:ze,MyPasswordInput:Me,MyConfirmPasswordInput:Pe},data:function(){return{name:"",password:"",confirmPassword:"",nameRules:{max:40,required:!0},errorMessages:[]}},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])({authorize:"userLoginStatus/authorize"})),{},{validate:function(){return!!this.$refs.form.validate()},signup:function(){var e=this;this.validate()&&this.$axios.post("/signup",{Name:this.name,Password:this.password}).then((function(t){null!=t.data.ErrorMessages?e.errorMessages=t.data.ErrorMessages:(e.authorize(t.data),e.$router.push({path:"/dashboard"}))})).catch((function(t){console.log(t),e.errorMessages=["Something went wrong. Please try again"]}))}})},Re=Fe,He=Object(m["a"])(Re,Oe,Ve,!1,null,null,null),Ue=He.exports;v()(He,{VBtn:De["a"],VCardActions:Se["a"],VForm:Qe["a"]});var Be={name:"Root",components:{Login:Te,Signup:Ue},data:function(){return{dialog:!1}}},Je=Be,Ke=a("b0af"),Ye=a("169a"),We=a("ce7e"),Ge=a("132d"),Xe=Object(m["a"])(Je,ie,ne,!1,null,null,null),Ze=Xe.exports;v()(Xe,{VBtn:De["a"],VCard:Ke["a"],VCardActions:Se["a"],VCardText:Se["b"],VCardTitle:Se["c"],VDialog:Ye["a"],VDivider:We["a"],VIcon:Ge["a"]});var et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8"}},[this.lastPlayedQuizTitle.ID?a("div",[a("p",{staticClass:"mb-2 font-weight-bold blue-grey--text text--darken-1"},[a("v-icon",[e._v("mdi-clipboard-clock-outline")]),e._v(" Last Quizzes you played ")],1),a("v-card",{staticClass:"mb-15 pa-4"},[a("p",{staticClass:"mb-1"},[a("router-link",{attrs:{to:{name:"QuizSectionsAndTitles",params:{id:this.lastPlayedQuizTitle.QuizSection.QuizLevel.ID}}}},[e._v(" "+e._s(this.lastPlayedQuizTitle.QuizSection.QuizLevel.Name)+" ")]),e._v(" - "+e._s(this.lastPlayedQuizTitle.QuizSection.Name)+" ")],1),a("p",{staticClass:"mb-1 text-h5"},[e._v(e._s(this.lastPlayedQuizTitle.Name))]),a("div",{staticClass:"d-flex align-end flex-column"},[a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"primary",to:{name:"PlayQuiz",params:{id:this.lastPlayedQuizTitle.ID}}}},[e._v(" Play ")])],1)])],1):e._e(),a("div",[a("p",{staticClass:"font-weight-bold blue-grey--text text--darken-1"},[a("v-icon",[e._v("mdi-clipboard-text-outline")]),e._v(" Quiz Level ")],1),e._l(e.quizLevels,(function(t){return a("v-card",{key:t.ID,staticClass:"pa-5"},[e._v(" ・"),a("router-link",{staticClass:"mr-5",attrs:{to:{name:"QuizSectionsAndTitles",params:{id:t.ID}}}},[a("span",{staticClass:"text-h6"},[e._v(e._s(t.Name))])])],1)}))],2)]),a("v-col",{staticClass:"heatmap d-none d-sm-flex",staticStyle:{height:"50vh"},attrs:{cols:"3"}},[a("div",{staticClass:"pa-2"},[a("p",{staticClass:"text-lg-h6 font-weight-bold text-center  blue-grey--text text--darken-1"},[e._v(" Learning History ")]),a("calendar-heatmap",{attrs:{"end-date":this.getToday,values:this.formattedHeatmapData,"range-color":["#ebedf0","#C8E6C9","#81C784","#43A047","#1B5E20"],vertical:!0}})],1)])],1)},tt=[],at=(a("d81d"),a("6b6d")),st=a("c1df"),it=a.n(st),nt={name:"Home",components:{CalendarHeatmap:at["CalendarHeatmap"]},data:function(){return{quizLevels:null,lastPlayedQuizTitle:null,heatmapData:[]}},created:function(){this.fetchData()},computed:Object(r["a"])(Object(r["a"])({},Object(c["c"])({user:"userLoginStatus/user"})),{},{getToday:function(){var e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();return t},formattedHeatmapData:function(){var e=this,t=this.heatmapData.map((function(t){return{date:e.changeDateFormat(t.Date),count:t.Count}}));return t}}),methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])({logout:"userLoginStatus/unauthorize"})),{},{changeDateFormat:function(e){return it()(e).format("YYYY-MM-DD")},fetchData:function(){var e=this;this.$userHttp.get("/users/dashboard").then((function(t){null!=t.data.ErrorMessages?e.errorMessages=t.data.ErrorMessages:(e.quizLevels=t.data.QuizLevels,e.lastPlayedQuizTitle=t.data.LastPlayedQuizTitle,e.heatmapData=t.data.HeatmapData)})).catch((function(e){console.log(e)}))}})},rt=nt,ot=(a("bd61"),a("0fd9")),lt=Object(m["a"])(rt,et,tt,!1,null,null,null),ct=lt.exports;v()(lt,{VBtn:De["a"],VCard:Ke["a"],VCol:D["a"],VIcon:Ge["a"],VRow:ot["a"]});var dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-card",{staticClass:"py-4"},[a("div",{staticClass:"tab py-4 pl-5",class:{active:"1"===e.isActive},on:{click:function(t){return e.isSelected("1")}}},[a("v-icon",[e._v("mdi-account-details-outline")]),a("span",{staticClass:"ml-4"},[e._v("Profile")])],1),a("div",{staticClass:"tab py-4 pl-5",class:{active:"2"===e.isActive},on:{click:function(t){return e.isSelected("2")}}},[a("v-icon",[e._v("mdi-lock")]),a("span",{staticClass:"ml-4"},[e._v("Password")])],1)])],1),a("v-col",{attrs:{cols:"12",sm:"8",md:"6"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:"1"===e.isActive,expression:"isActive === '1'"}]},[a("Profile")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"2"===e.isActive,expression:"isActive === '2'"}]},[a("Password")],1)])],1)},ut=[],mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"px-5 pt-5"},[a("p",{staticClass:"text-h4 font-weight-bold text-center blue-grey--text text--darken-1"},[e._v(" Profile ")]),a("ErrorMessages",{attrs:{errorMessages:this.errorMessages}}),a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.post(t)}}},[a("MyInput",e._b({attrs:{label:"Name","prepend-icon":"mdi-account-circle"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},"MyInput",e.nameRules,!1)),a("v-card-actions",{staticClass:"justify-center"},[a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"primary",width:"120px"},on:{click:e.post}},[e._v("Update")])],1)],1),a("p",{staticClass:"text-right"},[a("router-link",{attrs:{to:"deleteAcount"}},[e._v(" Delete Acount ")])],1)],1)},ht=[],vt={components:{ErrorMessages:he,MyInput:ze},data:function(){return{name:"",nameRules:{required:!0,max:40},errorMessages:[]}},created:function(){this.name=this.user.Name},computed:Object(r["a"])({},Object(c["c"])({user:"userLoginStatus/user"})),methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(c["b"])({updateUser:"userLoginStatus/setUser"})),Object(c["b"])({setFlashMessage:"flashMessage/set"})),{},{validate:function(){return!!this.$refs.form.validate()},post:function(){var e=this;this.validate()&&this.$userHttp.put("/users/".concat(this.user.ID),{Name:this.name}).then((function(t){null!=t.data.ErrorMessages?console.log(t.data.ErrorMessages):(e.updateUser(t.data.User),e.setFlashMessage({type:"success",message:"Changes have been saved"}))})).catch((function(e){console.log(e)}))}})},ft=vt,pt=Object(m["a"])(ft,mt,ht,!1,null,null,null),gt=pt.exports;v()(pt,{VBtn:De["a"],VCard:Ke["a"],VCardActions:Se["a"],VForm:Qe["a"]});var bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"pa-5"},[a("p",{staticClass:"text-h4 font-weight-bold text-center blue-grey--text text--darken-1"},[e._v(" Password ")]),a("ErrorMessages",{attrs:{errorMessages:this.errorMessages}}),a("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.post(t)}}},[a("MyPasswordInput",{attrs:{label:"Current Password",max:"40"},model:{value:e.currentPassword,callback:function(t){e.currentPassword=t},expression:"currentPassword"}}),a("MyPasswordInput",{attrs:{label:"New Password",max:"40"},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),a("MyConfirmPasswordInput",{attrs:{originPassword:e.newPassword,max:"40"},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),a("v-card-actions",{staticClass:"justify-center"},[a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"primary",width:"120px"},on:{click:function(t){return e.post()}}},[e._v("Update")])],1)],1)],1)},xt=[],zt={components:{ErrorMessages:he,MyPasswordInput:Me,MyConfirmPasswordInput:Pe},data:function(){return{currentPassword:"",newPassword:"",confirmPassword:"",showPassword:!1,errorMessages:[]}},computed:Object(r["a"])({},Object(c["c"])({user:"userLoginStatus/user"})),methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])({setFlashMessage:"flashMessage/set"})),{},{validate:function(){return!!this.$refs.form.validate()},post:function(){var e=this;this.validate()&&this.$userHttp.put("/users/".concat(this.user.ID,"/password"),{CurrentPassword:this.currentPassword,NewPassword:this.newPassword}).then((function(t){null!=t.data.ErrorMessages?e.errorMessages=t.data.ErrorMessages:(e.setFlashMessage("success","Changes have been saved"),e.$refs.form.reset())})).catch((function(e){console.log(e)}))}})},It=zt,yt=Object(m["a"])(It,bt,xt,!1,null,null,null),wt=yt.exports;v()(yt,{VBtn:De["a"],VCard:Ke["a"],VCardActions:Se["a"],VForm:Qe["a"]});var _t={components:{Profile:gt,Password:wt},data:function(){return{isActive:"1"}},computed:Object(r["a"])({},Object(c["c"])({user:"userLoginStatus/user"})),methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])({updateUser:"userLoginStatus/setUser"})),{},{isSelected:function(e){this.isActive=e}})},Ct=_t,Mt=(a("485d"),Object(m["a"])(Ct,dt,ut,!1,null,"4687ba69",null)),kt=Mt.exports;v()(Mt,{VCard:Ke["a"],VCol:D["a"],VIcon:Ge["a"],VRow:ot["a"]});var jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Ranking")]),a("div",[a("ul",e._l(this.users,(function(t){return a("li",{key:t.ID},[a("span",[e._v(e._s(e.rankNumber(t)))]),a("span",[e._v(e._s(t.Name)+" ")]),a("span",[e._v(e._s(t.Experience))])])})),0)])])},Dt=[],St={name:"Ranking",data:function(){return{users:null,experience:null,number:1}},created:function(){this.fechData()},computed:{rankNumber:function(){return function(e){return null==this.experience&&(this.experience=e.Experience),this.experience!=e.Experience&&(this.experience=e.Experience,this.number++),this.number}}},methods:{fechData:function(){var e=this;this.$userHttp.get("/users/ranking").then((function(t){null!=t.data.ErrorMessages?e.errorMessages=t.data.ErrorMessages:e.users=t.data.Users})).catch((function(t){console.log(t.message),e.$router.push({path:"/home"})}))}}},Qt=St,qt=Object(m["a"])(Qt,jt,Dt,!1,null,null,null),Tt=qt.exports,Ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{align:"center"}},[a("v-card",{staticClass:"pa-5 pa-sm-15",staticStyle:{"max-width":"600px"}},[a("p",{staticClass:"mb-10 text-h6 text-sm-h5 font-weight-bold blue-grey--text text--darken-1"},[e._v(" Deleting your account ")]),a("v-card",{staticClass:"mb-10 py-5 px-3 pa-sm-9 text-left red--text text--darken-1",attrs:{color:"red lighten-5"}},[a("p",{staticClass:"font-weight-bold"},[a("v-icon",{staticClass:"red--text text--darken-1"},[e._v(" mdi-check-circle-outline ")]),e._v(" Please be sure check before deleting ")],1),a("p",[e._v("You will lose access to all the data associated with your acount.")])]),a("p",{staticClass:"text-left"},[e._v("How can we improve?(*optional, up to 255 characters)")]),a("ErrorMessages",{attrs:{errorMessages:this.errorMessages}}),a("v-form",{ref:"form"},[a("MyTextarea",{attrs:{max:"255"},model:{value:e.contents,callback:function(t){e.contents=t},expression:"contents"}}),a("v-card-actions",[a("v-btn",{staticClass:"font-weight-bold white--text",attrs:{color:"red lighten-1"},on:{click:e.deleteAccount}},[e._v(" Delete Accont ")])],1)],1)],1)],1)},Vt=[],Lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-textarea",{attrs:{label:e.label,rules:e.rules,counter:e.max,rows:e.rows,"row-height":e.height,type:e.type,"auto-grow":"",outlined:""},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})},Et=[],At={name:"MyTextarea",props:{value:{type:String,required:!0},label:{type:String},type:{type:String,default:"text"},rows:{type:String,default:"5"},height:{type:String,default:"30"},max:{type:Number}},computed:{inputValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},rules:function(){var e=this,t=[];if(this.max){var a=function(t){return(t||"").length<=e.max||"".concat(e.label," must be less than ").concat(e.max," characters")};t.push(a)}if(this.required){var s=function(t){return!!t||"".concat(e.label," is required")};t.push(s)}return t}}},Nt=At,$t=a("a844"),Pt=Object(m["a"])(Nt,Lt,Et,!1,null,null,null),Ft=Pt.exports;v()(Pt,{VTextarea:$t["a"]});var Rt={name:"Delete",components:{ErrorMessages:he,MyTextarea:Ft},data:function(){return{contents:"",errorMessages:[]}},computed:Object(r["a"])({},Object(c["c"])({user:"userLoginStatus/user"})),methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(c["b"])({userLogout:"userLoginStatus/unauthorize"})),Object(c["b"])({setFlashMessage:"flashMessage/set"})),{},{validate:function(){return!!this.$refs.form.validate()},deleteAccount:function(){var e=this;if(this.validate()){if(!window.confirm("Are you sure? This cannot be undone"))return!1;this.$userHttp.post("/users/".concat(this.user.ID),{Contents:this.contents}).then((function(t){null===t.data?(e.setFlashMessage({type:"success",message:"Delete account successfully"}),e.userLogout()):null!=t.data.ErrorMessages&&(e.errorMessages=t.data.ErrorMessages)})).catch((function(t){console.log(t),e.errorMessages=["Something went wrong. Please try again"]}))}}})},Ht=Rt,Ut=Object(m["a"])(Ht,Ot,Vt,!1,null,null,null),Bt=Ut.exports;v()(Ut,{VBtn:De["a"],VCard:Ke["a"],VCardActions:Se["a"],VForm:Qe["a"],VIcon:Ge["a"]});var Jt={path:"/user",component:{template:"<router-view/>"},beforeEnter:function(e,t,a){se.state.userLoginStatus.token?a():a("/")},children:[{path:"ranking",name:"Ranking",component:Tt},{path:"Setting",name:"Setting",component:kt},{path:"DeleteAcount",name:"delete",component:Bt}]},Kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-col",{staticClass:"grey--text text--darken-2",attrs:{cols:"12",sm:"10"}},[a("v-card",{staticClass:"pa-4 blue-grey--text text--darken-1"},[a("p",{staticClass:"display-2 text-center"},[e._v(" "+e._s(this.quizLevel.Name)+" ")]),e._l(this.quizSections,(function(t){return a("div",{key:t.ID,staticClass:"mb-12"},[a("p",{staticClass:"text-h5 text-sm-h4 pl-sm-5 font-weight-bold blue-grey--text text--darken-1"},[e._v(" "+e._s(t.Name)+" ")]),e._l(t.QuizTitles,(function(s){return a("div",{key:s.ID,staticClass:"font-weight-bold mb-4 pl-4 pl-sm-10"},[a("div",{staticClass:"mt-6 mb-4 pl-4 pr-sm-10"},[a("p",{staticClass:"mb-1 text-h6"},[e._v(e._s(s.Name))]),a("div",{staticClass:"d-flex align-end flex-column"},[a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"primary",to:{name:"PlayQuiz",params:{id:s.ID,level_id:t.QuizLevelID}}}},[e._v(" Play ")])],1)]),a("v-divider")],1)}))],2)}))],2)],1)],1)},Yt=[],Wt={data:function(){return{quizLevel:null,quizSections:null}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.$userHttp.get("/users/quizzes/sections_and_titles/".concat(this.$route.params.id)).then((function(t){t.data.ErrorMessages?alert("error"):(e.quizLevel=t.data.QuizLevel,e.quizSections=t.data.QuizSections)})).catch((function(t){console.log(t),e.$router.push({path:"/home"})}))}}},Gt=Wt,Xt=Object(m["a"])(Gt,Kt,Yt,!1,null,null,null),Zt=Xt.exports;v()(Xt,{VBtn:De["a"],VCard:Ke["a"],VCol:D["a"],VDivider:We["a"],VRow:ot["a"]});var ea,ta,aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"10",lg:"8"}},[a("router-link",{attrs:{to:{name:"QuizSectionsAndTitles",params:{id:this.quizTitle.QuizSection.QuizLevel.ID}}}},[a("v-btn",{staticClass:"grey white--text",attrs:{small:""}},[a("v-icon",[e._v("mdi-arrow-left")]),e._v(" Back To List")],1)],1),a("p",{staticClass:"mt-2 text-h5 blue-grey--text text--darken-1"},[e._v(" "+e._s(this.quizTitle.QuizSection.QuizLevel.Name)+" - "+e._s(this.quizTitle.QuizSection.Name)+" ")]),this.dialog?e._e():a("v-card",[a("v-content",{staticClass:"pa-5"},[a("div",{attrs:{justify:"text-center"}},[this.showCollectMark()?a("p",{staticClass:"collect text-center font-weight-bold"},[e._v(" 正解・せいかい（Collect) !!!"),a("br"),a("span",{staticClass:"collect-circle mt-2"})]):e._e(),this.showWrongMark()?a("p",{staticClass:"wrong text-center font-weight-bold"},[e._v(" 不正解・ふせいかい（Wrong)"),a("br"),a("span",{staticClass:"wrong-cross red--text"},[e._v("×")])]):e._e()]),a("div",{staticClass:"question_box"},[a("p",{staticClass:"text-center grey--text text--darken-2 font-weight-bold"},[e._v(e._s(this.currentQuiz.Question))])]),a("v-divider",{staticClass:"my-6"}),a("div",e._l(this.shuffledChoices,(function(t,s){return a("v-card",{key:s,staticClass:"choice rounded-pill mb-5 py-2 font-weight-bold text-center text-body",class:[{wrongChoice:e.isWrong(t)},{collectChoice:e.isCollect(t)},{answered:e.isAnswered()}],domProps:{textContent:e._s(t)},on:{click:function(a){return e.check(t,s)}}})})),1),a("v-card-actions",{staticClass:"justify-center"},[e.lastQuiz?e._e():a("v-btn",{staticClass:"primary font-weight-bold px-6",attrs:{disabled:!this.answered},on:{click:e.next}},[e._v(" Next ")]),e.lastQuiz?a("v-btn",{staticClass:"amber darken-2 white--text font-weight-bold",attrs:{disabled:this.posted},on:{click:e.postScore}},[e._v(" Show score ")]):e._e()],1)],1)],1),this.dialog?a("v-card",{staticClass:"grey--text text--darken-2"},[a("p",{staticClass:"py-4 text-center text-h4 font-weight-bold"},[e._v("- Results -")]),a("v-content",[a("v-row",{staticClass:"text-center"},[a("v-col",{attrs:{cols:"6",sm:"3",md:"3",lg:"3",xl:"3"}},[a("p",{staticClass:"font-weight-bold mb-1"},[e._v("Score")]),a("div",{staticClass:"d-flex justify-center"},[a("v-card",{staticClass:"amber darken-4 white--text py-3 py-sm-6",attrs:{width:"90%"}},[a("p",{staticClass:"font-weight-bold mb-0"},[e._v(e._s(this.calculatedScore))])])],1)]),a("v-divider",{attrs:{vertical:""}}),a("v-col",{attrs:{cols:"6",sm:"3",md:"3",lg:"3",xl:"3"}},[a("p",{staticClass:"font-weight-bold mb-1"},[e._v("EXP")]),a("div",{staticClass:"d-flex justify-center"},[a("v-card",{staticClass:"amber darken-4 white--text py-3 py-sm-6",attrs:{width:"90%"}},[a("p",{staticClass:"font-weight-bold mb-0"},[e._v(e._s(this.result.EarnedExperience)+" pt")])])],1)]),a("v-divider",{staticClass:"d-xs-none",attrs:{vertical:""}}),a("v-col",{attrs:{cols:"6",sm:"3",md:"3",lg:"3",xl:"3"}},[a("p",{staticClass:"font-weight-bold mb-1"},[e._v("To Next Level")]),a("div",{staticClass:"d-flex justify-center"},[a("v-card",{staticClass:"amber darken-4 white--text py-3 py-sm-6",attrs:{width:"90%"}},[a("p",{staticClass:"font-weight-bold mb-0"},[e._v(e._s(this.result.NeededPoint)+" pt")])])],1)]),a("v-divider",{attrs:{vertical:""}}),a("v-col",{staticClass:"relative",attrs:{cols:"6",sm:"3",md:"3",lg:"3",xl:"3"}},[a("p",{staticClass:"font-weight-bold mb-1"},[e._v("Learning Level")]),a("div",{staticClass:"d-flex justify-center"},[a("v-card",{staticClass:"amber darken-4 white--text py-3 py-sm-6",attrs:{width:"90%"}},[a("p",{staticClass:"font-weight-bold mb-0"},[e._v(e._s(this.result.LearningLevel)+" %")])])],1)])],1)],1),a("v-content",{staticClass:"mt-10"},[a("LineChart",{attrs:{height:200,chartData:this.result.RecentScores}})],1),a("v-card-actions",{staticClass:"justify-center"},[a("v-btn",{staticClass:"font-weight-bold align-center my-4",attrs:{color:"primary"},on:{click:e.replay}},[a("v-icon",{attrs:{dark:"",left:""}},[e._v("mdi-reload")]),e._v(" replay ")],1)],1)],1):e._e()],1)],1)},sa=[],ia=a("2909"),na=(a("a434"),a("1fca")),ra=na["b"].reactiveProp,oa={extends:na["a"],mixins:[ra],props:{chartData:Array},data:function(){return{lineChartData:{labels:Object(ia["a"])(Array(this.chartData.length)).map((function(e,t){return t+1})),datasets:[{label:"Recent Score History",data:this.chartData,backgroundColor:"#F28E3C",lineTension:0,fill:!1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{min:0,max:100,stepSize:10}}]},title:{display:!0,text:"Score History",fontSize:22},legend:{display:!1}}}},mounted:function(){this.renderChart(this.lineChartData,this.options)}},la=oa,ca=Object(m["a"])(la,ea,ta,!1,null,null,null),da=ca.exports,ua={name:"PlayQuiz",components:{LineChart:da},data:function(){return{quizTitle:null,quizzes:[],wrong:null,count:0,currentQuiz:null,answered:!1,lastQuiz:!1,score:0,result:null,posted:!1,dialog:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(c["c"])({user:"userLoginStatus/user"})),{},{shuffledChoices:function(){var e=[this.currentQuiz.Answer,this.currentQuiz.Choice1,this.currentQuiz.Choice2,this.currentQuiz.Choice3];return e=this.shuffle(e),e},calculatedScore:function(){return Math.floor(this.score/this.quizzes.length*100)}}),created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.$userHttp.get("/users/quizzes/play/".concat(this.$route.params.id)).then((function(t){null!=t.data.ErrorMessages?console.log(t.data.ErrorMessages):(e.quizTitle=t.data.QuizTitle,e.quizzes=t.data.Quizzes,e.shuffleQuizzes(),e.set())}))},set:function(){this.answered=!1,this.wrong=null,this.currentQuiz=this.quizzes[this.count]},shuffleQuizzes:function(){var e;(e=this.quizzes).splice.apply(e,[0,this.quizzes.length].concat(Object(ia["a"])(this.shuffle(this.quizzes))))},shuffle:function(e){for(var t=e.length-1;t>=0;t--){var a=Math.floor(Math.random()*(t+1)),s=[e[a],e[t]];e[t]=s[0],e[a]=s[1]}return e},isAnswered:function(){return this.answered},isWrong:function(e){var t=this.answered&&this.wrong===e;return t},isCollect:function(e){var t=this.answered&&e===this.currentQuiz.Answer;return t},showWrongMark:function(){var e=null!=this.wrong&&0!=this.answered;return e},showCollectMark:function(){var e=null===this.wrong&&0!=this.answered;return e},check:function(e){this.answered||(e===this.currentQuiz.Answer?this.score++:this.wrong=e,this.count++,this.count===this.quizzes.length&&(this.lastQuiz=!this.lastQuiz),this.answered=!this.answered)},next:function(){this.answered&&this.set()},postScore:function(){var e=this;this.posted=!0,this.$userHttp.post("/users/score_records/".concat(this.user.ID),{QuizTitleID:Number(this.$route.params.id),Score:this.calculatedScore}).then((function(t){null!=t.data.ErrorMessages?e.errorMessages=t.data.ErrorMessags:(e.experience=t.data.EarnedExperience,e.recentScores=t.data.RecentScores,e.learningLevel=t.data.LearningLevel,e.result=t.data,e.dialog=!0)}))},replay:function(){this.reset(),this.dialog=!1},reset:function(){this.lastQuiz=!1,this.score=0,this.answered=!1,this.count=0,this.wrong=null,this.posted=!1,this.shuffleQuizzes(),this.set()}}},ma=ua,ha=(a("f04e"),a("a75b")),va=Object(m["a"])(ma,aa,sa,!1,null,null,null),fa=va.exports;v()(va,{VBtn:De["a"],VCard:Ke["a"],VCardActions:Se["a"],VCol:D["a"],VContent:ha["a"],VDivider:We["a"],VIcon:Ge["a"],VRow:ot["a"]});var pa={path:"/quiz",component:{template:"<router-view/>"},beforeEnter:function(e,t,a){se.state.userLoginStatus.token?a():a("/")},children:[{path:"play/:id",name:"PlayQuiz",component:fa},{path:"sections_and_titles/:id",name:"QuizSectionsAndTitles",component:Zt}]},ga=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{align:"center"}},[a("v-card",{staticStyle:{"max-width":"420px"}},[a("v-card-text",[a("p",{staticClass:"text-h5 mt-5"},[e._v("Admin User Login")]),a("ErrorMessages",{attrs:{errorMessages:this.errorMessages}}),a("v-form",[a("MyInput",e._b({attrs:{label:"Name","prepend-icon":"mdi-account-edit"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},"MyInput",e.nameRules,!1)),a("MyPasswordInput",{attrs:{label:"Password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-card-actions",{staticClass:"justify-center"},[a("v-btn",{staticClass:"font-weight-bold",attrs:{color:"primary",width:"100%"},on:{click:e.login}},[e._v(" log in ")])],1)],1)],1)],1)],1)},ba=[],xa={name:"AdminLogIn",components:{ErrorMessages:he,MyInput:ze,MyPasswordInput:Me},data:function(){return{name:"",password:"",errorMessages:[]}},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])({authorize:"adminLoginStatus/authorize"})),{},{login:function(){var e=this,t="/admin_login";this.axios.post(t,{Name:this.name,Password:this.password}).then((function(t){null!=t.data.ErrorMessages?e.errorMessages=t.data.ErrorMessages:(e.authorize(t.data.Token.Token),e.$router.push({path:"/admin/home"}))})).catch((function(t){console.log(t),e.errorMessages=["Something went wrong. Please try again"]}))}})},za=xa,Ia=Object(m["a"])(za,ga,ba,!1,null,null,null),ya=Ia.exports;v()(Ia,{VBtn:De["a"],VCard:Ke["a"],VCardActions:Se["a"],VCardText:Se["b"],VForm:Qe["a"]});var wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("admin home")]),a("div",[a("router-link",{attrs:{to:"/admin/quiz_levels"}},[e._v("Quiz Level")]),a("router-link",{attrs:{to:"/admin/quiz_sections"}},[e._v("Quiz Section")]),a("router-link",{attrs:{to:"/admin/quiz_titles"}},[e._v("Quiz Title")]),a("router-link",{attrs:{to:"/admin/quizzes"}},[e._v("Quiz Index")])],1)])},_a=[],Ca={name:"adminHome"},Ma=Ca,ka=Object(m["a"])(Ma,wa,_a,!1,null,null,null),ja=ka.exports,Da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),a("ErrorMessages",{attrs:{errorMessages:this.errorMessages}}),a("div",[a("form",{on:{submit:function(t){return t.preventDefault(),e.update(t)}}},[a("label",{attrs:{for:"name"}},[e._v("Name: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newName,expression:"newName"}],attrs:{type:"text",id:"name",name:"Name"},domProps:{value:e.newName},on:{input:function(t){t.target.composing||(e.newName=t.target.value)}}}),a("label",{attrs:{for:"current-password"}},[e._v("Current Password: ")]),a("input",{attrs:{type:"password",id:"current-password",name:"current-password"}}),a("label",{attrs:{for:"new-password"}},[e._v("New Password: ")]),a("input",{attrs:{type:"password",id:"new-password",name:"new-password"}}),a("input",{attrs:{type:"submit"}})])])],1)},Sa=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Edit Profile")])])}],Qa={name:"AdminEdit",components:{ErrorMessages:he},data:function(){return{currentName:null,newName:null,currentPassword:null,newPassword:null,errorMessages:[]}},created:function(){this.fechData(),this.newName=this.admin.Name,this.currentName=this.admin.Name},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])({updateUser:"userLoginStatus/setUser"})),{},{fechData:function(){var e=this;this.$adminHttp.get("/admin/edit").then((function(t){null!=t.data.ErrorMessages?(console.log(t.data.ErrorMessages),alert("Failed to get data")):(e.newName=t.data.Admin.Name,e.currentName=t.data.Admin.Name)}))},update:function(){var e=this;this.checkForm()?this.$userHttp.put("/admin/users/".concat(this.$route.params.id),{Name:this.newName,currentPassword:this.currentPassword,newPassword:this.newPassword}).then((function(t){null!=t.data.ErrorMessages?console.log(t.data.ErrorMessages):(e.updateUser(t.data.User),e.$router.push({name:"Profile"}))})).catch((function(e){console.log(e)})):console.log("cancel to send form")},checkForm:function(){return this.newName===this.currentName?(this.errorMessages=["new name is not changed"],!1):null==this.newName&&null==this.currentPassword&&null==this.newPassword?(this.errorMessages=["All inputs are blank"],!1):null==this.currentPassword||this.currentPassword!=this.newPassword||(this.errorMessages=["new password is not changed"],!1)}})},qa=Qa,Ta=Object(m["a"])(qa,Da,Sa,!1,null,null,null),Oa=Ta.exports,Va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",[e._v("Quiz 一覧")]),a("p",[a("router-link",{attrs:{to:"/admin/quizzes/new"}},[e._v("新規作成")])],1),e._l(e.quizzes,(function(t,s){return a("div",{key:s},[a("ul",[a("li",[e._v(e._s(t.Question))]),a("li",[e._v(e._s(t.Answer))]),a("li",[e._v(e._s(t.Choice1))]),a("li",[e._v(e._s(t.Choice2))]),a("li",[e._v(e._s(t.CHoice3))]),a("li",[a("router-link",{attrs:{to:{name:"EditQuiz",params:{id:t.ID}}}},[e._v("編集")]),a("button",{on:{click:function(a){return e.deleteQuiz(t.ID,s)}}},[e._v("削除")])],1)])])}))],2)},La=[],Ea={name:"quizzesIndex",data:function(){return{quizzes:null}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.$adminHttp.get("/admin/quizzes").then((function(t){e.quizzes=t.data.Quizzes})).catch((function(t){e.$router.push({path:"/admin/home"}),console.log(t)}))},deleteQuiz:function(e,t){var a=this;this.$adminHttp.delete("/admin/quizzes/".concat(e)).then((function(e){null!=e.data&&(a.errorMessages=e.data.ErrorMessages,alert(e.data),alert("failed to delete quiz")),a.quizzes.splice(t)}))}}},Aa=Ea,Na=Object(m["a"])(Aa,Va,La,!1,null,null,null),$a=Na.exports,Pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("Quiz Detail")]),a("router-link",{attrs:{to:{name:"EditQuiz",params:{id:this.quiz.ID}}}},[e._v("編集")]),a("button",{on:{click:e.deleteQuiz}},[e._v("削除")]),a("div",[a("p",[e._v("Question: "+e._s(this.quiz.Question))]),a("p",[e._v("Answer: "+e._s(this.quiz.Answer))]),a("p",[e._v("Choice1: "+e._s(this.quiz.Choice1))]),a("p",[e._v("Choice2: "+e._s(this.quiz.Choice2))]),a("p",[e._v("Choice3: "+e._s(this.quiz.Choice3))])]),a("div",[a("p",[e._v("Belongs to")]),a("ul",e._l(e.quizTitles,(function(t){return a("li",{key:t.ID},[a("router-link",{attrs:{to:{name:"ShowQuizTitle",params:{id:t.ID}}}},[e._v(e._s(t.Name))])],1)})),0)])],1)},Fa=[],Ra={name:"showQuiz",data:function(){return{quiz:null,quizTitles:null}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.$adminHttp.get("/admin/quizzes/".concat(this.$route.params["id"])).then((function(t){null!=t.data.ErrorMessages?(console.log(t.data.ErrorMessages),alert("failed to get data")):(e.quiz=t.data.Quiz,e.quizTitles=t.data.QuizTitles)})).catch((function(t){e.$router.push({path:"/admin/home"}),console.log(t)}))},deleteQuiz:function(){var e=this;this.$adminHttp.delete("/admin/quizzes/".concat(this.quiz.ID)).then((function(t){null!=t.data?(console.log(t.data),alert("failed to delete quiz")):e.$router.push({path:"/admin/quizzes/index"})}))}}},Ha=Ra,Ua=Object(m["a"])(Ha,Pa,Fa,!1,null,null,null),Ba=Ua.exports,Ja={path:"/admin/quizzes",component:{template:"<router-view></router-view>"},beforeEnter:function(e,t,a){se.state.adminLoginStatus.token?a():a("/admin_login")},children:[{path:"index",name:"IndexQuiz",component:$a},{path:":id",name:"ShowQuiz",component:Ba}]},Ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(" Quiz Titles "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{headers:e.headers,items:e.quizTitles,"sort-by":e.headers,search:e.search,loading:e.loading,"loading-text":"Loading... Please wait"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-spacer"),a("v-toolbar",{attrs:{flat:""}},[a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,i=t.attrs;return[a("v-spacer"),a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{small:"",color:"primary"}},"v-btn",i,!1),s),[e._v(" New ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle)+" Quiz Title")])]),a("v-card-text",[a("v-container",[a("ErrorMessages",{attrs:{errorMessages:e.errorMessages}}),a("v-form",{ref:"form"},[a("MySelect",{attrs:{label:"Quiz Level",items:e.quizLevels,itemText:"Name",itemValue:"ID",required:"true"},on:{change:e.getQuizSections},model:{value:e.editedItem.QuizSection.QuizLevelID,callback:function(t){e.$set(e.editedItem.QuizSection,"QuizLevelID",t)},expression:"editedItem.QuizSection.QuizLevelID"}}),a("MySelect",{attrs:{label:"Quiz Section",items:e.quizSections,itemText:"Name",itemValue:"ID",required:"true"},model:{value:e.editedItem.QuizSection.ID,callback:function(t){e.$set(e.editedItem.QuizSection,"ID",t)},expression:"editedItem.QuizSection.ID"}}),a("MyInput",e._b({attrs:{label:"Name"},model:{value:e.editedItem.Name,callback:function(t){e.$set(e.editedItem,"Name",t)},expression:"editedItem.Name"}},"MyInput",e.nameRules,!1)),a("MySelect",{attrs:{label:"Rate",items:e.rateArray,required:"true"},model:{value:e.editedItem.Rate,callback:function(t){e.$set(e.editedItem,"Rate",t)},expression:"editedItem.Rate"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),-1!=e.editedIndex?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.update}},[e._v(" Update ")]):e._e(),-1===e.editedIndex?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.create}},[e._v(" create ")]):e._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.deleteItemConfirm(e.editedItem)}}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.CreatedAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.changeFormat(a.CreatedAt,"yyyy/M/d H:m"))+" ")]}},{key:"item.UpdatedAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.changeFormat(a.UpdatedAt,"yyyy/M/d H:m"))+" ")]}},{key:"item.actions",fn:function(t){var s=t.item;return[a("router-link",{attrs:{to:{name:"ShowQuizTitle",params:{id:s.ID}}}},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v(" mdi-open-in-new ")])],1),a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"primary"},on:{click:function(t){return e.editItem(s)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(t){return e.deleteItem(s)}}},[e._v(" mdi-delete ")])]}}])})],1)},Ya=[],Wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-select",{attrs:{label:e.label,items:e.items,"item-text":e.itemText,"item-value":e.itemValue,rules:e.rules},on:{change:e.change},model:{value:e.selectValue,callback:function(t){e.selectValue=t},expression:"selectValue"}})},Ga=[],Xa={name:"MySelect",props:{value:{type:Number,required:!0},items:{type:Array},itemText:{type:String},itemValue:{type:String},label:{type:String,required:!0},required:{type:Boolean,default:!1}},computed:{selectValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},rules:function(){var e=this,t=[];if(this.required){var a=function(t){return!!t||"".concat(e.label," is required")};t.push(a)}return t}},methods:{change:function(){this.$emit("change")}}},Za=Xa,es=a("b974"),ts=Object(m["a"])(Za,Wa,Ga,!1,null,null,null),as=ts.exports;v()(ts,{VSelect:es["a"]});a("5319"),a("ac1f");var ss={methods:{changeFormat:function(e,t){return e=new Date(e),t=t.replace(/yyyy/g,e.getFullYear()),t=t.replace(/M/g,e.getMonth()+1),t=t.replace(/d/g,e.getDate()),t=t.replace(/H/g,e.getHours()),t=t.replace(/m/g,e.getMinutes()),t=t.replace(/s/g,e.getSeconds()),t=t.replace(/S/g,e.getMilliseconds()),t},truncate:function(e,t,a){return e.length>t?e.substring(0,t)+a:e}}},is={name:"ShowQuizSection",components:{MyInput:ze,MySelect:as,ErrorMessages:he},mixins:[ss],data:function(){return{loading:!1,headers:[{text:"ID",align:"start",value:"ID"},{text:"Name",value:"Name"},{text:"Rate",value:"Rate"},{text:"Level",value:"QuizSection.QuizLevel.Name"},{text:"Section",value:"QuizSection.Name"},{text:"CreatedAt",value:"CreatedAt"},{text:"UpdatedAt",value:"UpdatedAt"},{text:"Actions",value:"actions",sortable:!1}],search:"",dialog:!1,dialogDelete:!1,editedIndex:-1,editedItem:{QuizSection:"",QuizSectionID:"",Name:"",Rate:1},defaultItem:{QuizSection:"",QuizSectionID:"",Name:"",Rate:1},quizLevels:[],quizSections:"",quizTitles:[],nameRules:{max:40,required:!0},rateArray:Object(ia["a"])(Array(41)).map((function(e,t){return Math.round(10*(.1*t+1))/10})),errorMessages:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New":"Edit"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},mounted:function(){this.fetchData()},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])({setFlashMessage:"flashMessage/set"})),{},{fetchData:function(){var e=this;this.loading=!0,this.$adminHttp.get("/admin/quiz_titles").then((function(t){null!=t.data.ErrorMessages?(console.log(t.data.ErrorMessages),e.setFlashMessage({type:"warning",message:"Failed to fetch data ..."})):(e.quizLevels=t.data.QuizLevels,e.quizTitles=t.data.QuizTitles),e.loading=!1})).catch((function(e){console.log(e)}))},editItem:function(e){var t=this;this.editedIndex=this.quizTitles.indexOf(e),this.$adminHttp.get("/admin/quiz_sections/get_quiz_sections_by_quiz_level_id/".concat(e.QuizSection.QuizLevelID)).then((function(e){null!=e.data?t.setFlashMessage({type:"warning",message:"Failed to get data ..."}):t.quizSections=e.data})).catch((function(e){console.log(e),t.setFlashMessage({type:"error",message:"Something went wrong. Please try again ..."})})),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.quizTitles.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(e){var t=this;this.$adminHttp.delete("/admin/quiz_titles/".concat(e.ID)).then((function(e){null!=e.data?(console.log(e.data),t.setFlashMessage({type:"warning",message:"Failed to delete ..."})):(t.quizTitles.splice(t.editedIndex,1),t.closeDelete(),t.setFlashMessage({type:"success",message:"Delete successfully"}))})).catch((function(e){console.log(e)}))},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1,e.errorMessages=[]}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},getQuizSections:function(){var e=this;this.$adminHttp.get("/admin/quiz_sections/get_quiz_sections_by_quiz_level_id/".concat(this.editedItem.QuizLevelID)).then((function(t){null!=t.data.ErrorMessages?e.errorMessages=t.data.ErrorMessages:(e.quizSections=t.data,e.editedItem.QuizSectionID=0)})).catch((function(t){console.log(t),e.errorMessages=["Something went wrong. Please try again"]}))},validation:function(){return!!this.$refs.form.validate()},create:function(){var e=this;this.validation()&&this.$adminHttp.post("/admin/quiz_titles",{QuizSectionID:this.editedItem.QuizSectionID,Name:this.editedItem.Name,Rate:this.editedItem.Rate}).then((function(t){null!=t.data.ErrorMessages?e.errorMessages=t.data.ErrorMessages:(e.quizTitles.push(t.data),e.close(),e.setFlashMessage({type:"success",message:"Created successfully"}))})).catch((function(t){console.log(t),e.errorMessages=["Something went wrong. Please try again"]}))},update:function(){var e=this;this.validation()&&this.$adminHttp.put("/admin/quiz_titles/".concat(this.editedItem.ID),{QuizSectionID:this.editedItem.QuizSectionID,Name:this.editedItem.Name,Rate:this.editedItem.Rate}).then((function(t){null!=t.data.ErrorMessages?e.errorMessages=t.data.ErrorMessages:(Object.assign(e.quizTitles[e.editedIndex],e.editedItem),e.setFlashMessage({type:"success",message:"Changes have been saved"}),e.close())})).catch((function(t){console.log(t),e.setFlashMessage({type:"error",message:"Something went wrong. Please try again"})}))}})},ns=is,rs=a("8fea"),os=a("71d9"),ls=Object(m["a"])(ns,Ka,Ya,!1,null,null,null),cs=ls.exports;v()(ls,{VBtn:De["a"],VCard:Ke["a"],VCardActions:Se["a"],VCardText:Se["b"],VCardTitle:Se["c"],VContainer:H["a"],VDataTable:rs["a"],VDialog:Ye["a"],VForm:Qe["a"],VIcon:Ge["a"],VSpacer:w["a"],VTextField:be["a"],VToolbar:os["a"]});var ds=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(" "+e._s(this.quizTitle.Name)+" ")]),a("v-btn",{attrs:{small:"",color:"primary"},on:{click:function(t){e.addQuizTableDialog=!e.addQuizTableDialog}}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-plus-box-outline ")]),e._v(" Add Existing Quiz ")],1),a("v-dialog",{model:{value:e.addQuizTableDialog,callback:function(t){e.addQuizTableDialog=t},expression:"addQuizTableDialog"}},[a("AddQuizTable",{attrs:{quizTitle:e.quizTitle}})],1),a("v-divider",{staticClass:"mx-5"}),a("v-card-title",[e._v(" Quizzes in "+e._s(this.quizTitle.Name)+" "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{headers:e.headers,items:e.quizzes,"sort-by":e.headers,search:e.search,loading:e.loading,"loading-text":"Loading... Please wait","item-key":"ID","show-expand":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-spacer"),a("v-toolbar",{attrs:{flat:""}},[a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,i=t.attrs;return[a("v-spacer"),a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{small:"",color:"primary"}},"v-btn",i,!1),s),[e._v(" New ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle)+" Quiz")])]),a("v-card-text",[a("v-container",[a("ErrorMessages",{attrs:{errorMessages:e.errorMessages}}),-1!=e.editedIndex?a("MySelect",{attrs:{label:"Quiz Level",items:e.quizLevels,itemText:"Name",itemValue:"ID"},on:{change:e.getQuizSections},model:{value:e.editedItem.QuizLevelID,callback:function(t){e.$set(e.editedItem,"QuizLevelID",t)},expression:"editedItem.QuizLevelID"}}):e._e(),-1!=e.editedIndex?a("MySelect",e._b({attrs:{label:"Quiz Section",items:e.quizSectionsChoices,itemText:"Name",itemValue:"ID",noDataText:"quiz sections not exist"},model:{value:e.editedItem.QuizSectionID,callback:function(t){e.$set(e.editedItem,"QuizSectionID",t)},expression:"editedItem.QuizSectionID"}},"MySelect",e.selectRules,!1)):e._e(),a("v-form",{ref:"form"},[-1!=e.editedIndex?a("MySelect",e._b({attrs:{label:"Quiz Title",items:e.quizTitlesChoices,itemText:"Name",itemValue:"ID",noDataText:"quiz sections not exist"},model:{value:e.editedItem.QuizTitleID,callback:function(t){e.$set(e.editedItem,"QuizTitleID",t)},expression:"editedItem.QuizTitleID"}},"MySelect",e.selectRules,!1)):e._e(),a("MyTextarea",e._b({attrs:{label:"Question"},model:{value:e.editedItem.Question,callback:function(t){e.$set(e.editedItem,"Question",t)},expression:"editedItem.Question"}},"MyTextarea",e.questionRules,!1)),a("MyInput",e._b({attrs:{label:"Answer"},model:{value:e.editedItem.Answer,callback:function(t){e.$set(e.editedItem,"Answer",t)},expression:"editedItem.Answer"}},"MyInput",e.choiceRules,!1)),a("MyInput",e._b({attrs:{label:"Choice1"},model:{value:e.editedItem.Choice1,callback:function(t){e.$set(e.editedItem,"Choice1",t)},expression:"editedItem.Choice1"}},"MyInput",e.choiceRules,!1)),a("MyInput",e._b({attrs:{label:"Choice2"},model:{value:e.editedItem.Choice2,callback:function(t){e.$set(e.editedItem,"Choice2",t)},expression:"editedItem.Choice2"}},"MyInput",e.choiceRules,!1)),a("MyInput",e._b({attrs:{label:"Choice3"},model:{value:e.editedItem.Choice3,callback:function(t){e.$set(e.editedItem,"Choice3",t)},expression:"editedItem.Choice3"}},"MyInput",e.choiceRules,!1))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),-1!=e.editedIndex?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.update}},[e._v(" Update ")]):e._e(),-1===e.editedIndex?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.create}},[e._v(" create ")]):e._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.deleteItemConfirm(e.editedItem)}}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.Question",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.truncate(a.Question,30,"..."))+" ")]}},{key:"item.CreatedAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.changeFormat(a.CreatedAt,"yyyy/M/d H:m"))+" ")]}},{key:"item.UpdatedAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.changeFormat(a.UpdatedAt,"yyyy/M/d H:m"))+" ")]}},{key:"item.actions",fn:function(t){var s=t.item;return[a("router-link",{attrs:{to:{name:"ShowQuiz",params:{id:s.ID}}}},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v(" mdi-open-in-new ")])],1),a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"primary"},on:{click:function(t){return e.editItem(s)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(t){return e.deleteItem(s)}}},[e._v(" mdi-delete ")])]}},{key:"expanded-item",fn:function(t){var s=t.headers,i=t.item;return[a("td",{staticClass:"py-2",staticStyle:{"max-width":"98vw"},attrs:{colspan:s.length}},[a("span",{staticClass:"font-weight-bold"},[e._v("Question:")]),a("br"),e._v(e._s(i.Question)+" ")])]}}])})],1)},us=[],ms=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(" Add Existing Quiz "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{headers:e.headers,items:e.quizzes,"sort-by":e.headers,search:e.search,"item-key":"ID","show-select":""},on:{"item-selected":e.enable,input:e.alert},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-btn",{staticClass:"mb-2",attrs:{small:"",color:"primary",disabled:!e.selectedAny},on:{click:e.addQuizzes}},[e._v(" Add ")])],1)]},proxy:!0},{key:"item.Question",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.truncate(a.Question,30,"..."))+" ")]}}])})],1)},hs=[],vs=(a("d3b7"),a("25f0"),{props:{quizTitle:{type:Object,required:!0}},data:function(){return{selected:[],selectedAny:!1,headers:[{text:"ID",align:"start",value:"ID"},{text:"Question",value:"Question"},{text:"Answer",value:"Answer"},{text:"Choice1",value:"Choice1"},{text:"Choice2",value:"Choice2"},{text:"Choice3",value:"Choice3"}],search:"",quizzes:[]}},created:function(){this.fetchData()},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])({setFlashMessage:"flashMessage/set"})),{},{fetchData:function(){var e=this;this.$adminHttp.get("/admin/quizzes/to_add/".concat(this.quizTitle.ID)).then((function(t){null!=t.data.ErrorMessages?(console.log(t.data.ErrorMessages),e.setFlashMessage({type:"warning",message:"Failed to fetch data ..."})):e.quizzes=t.data})).catch((function(e){console.log(e)}))},addQuizzes:function(){this.selected.length?alert("checked"):alert("not checked")},enable:function(e){this.selectedAny=e.value},alert:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){alert(e)}))})}),fs=vs,ps=Object(m["a"])(fs,ms,hs,!1,null,null,null),gs=ps.exports;v()(ps,{VBtn:De["a"],VCard:Ke["a"],VCardTitle:Se["c"],VDataTable:rs["a"],VSpacer:w["a"],VTextField:be["a"],VToolbar:os["a"]});var bs={name:"ShowQuizSection",components:{MyInput:ze,MyTextarea:Ft,MySelect:as,ErrorMessages:he,AddQuizTable:gs},mixins:[ss],data:function(){return{expanded:[],loading:!1,headers:[{text:"ID",align:"start",value:"ID"},{text:"Question",value:"Question"},{text:"Answer",value:"Answer"},{text:"Choice1",value:"Choice1"},{text:"Choice2",value:"Choice2"},{text:"Choice3",value:"Choice3"},{text:"CreatedAt",value:"CreatedAt"},{text:"UpdatedAt",value:"UpdatedAt"},{text:"Actions",value:"actions",sortable:!1},{text:"",value:"data-table-expand"}],search:"",dialog:!1,dialogDelete:!1,addQuizTableDialog:!1,editedIndex:-1,editedItem:{QuizLevelID:"",QuizSectionID:"",QuizTitleID:"",Question:"",Answer:"",Choice1:"",Choice2:"",Choice3:""},defaultItem:{QuizTitleID:"",Question:"",Answer:"",Choice1:"",Choice2:"",Choice3:""},quizLevels:[],quizSection:"",quizSections:[],initQuizSectionsChoices:"",quizSectionsChoices:[],initQuizTitlesChoices:"",quizTitlesChoices:[],quizTitles:[],quizTitle:"",quizzes:[],selectRules:{required:!0},questionRules:{max:300,required:!0},choiceRules:{max:150,required:!0},errorMessages:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New":"Edit"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},mounted:function(){this.fetchData()},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])({setFlashMessage:"flashMessage/set"})),{},{fetchData:function(){var e=this;this.loading=!0,this.$adminHttp.get("/admin/quiz_titles/".concat(this.$route.params.id)).then((function(t){null!=t.data.ErrorMessages?(console.log(t.data.ErrorMessages),e.setFlashMessage({type:"warning",message:"Failed to fetch data ..."})):(e.quizLevels=t.data.QuizLevels,e.quizSection=t.data.QuizTitle.QuizSection,e.quizSections=t.data.QuizSections,e.quizTitle=t.data.QuizTitle,e.quizTitles=t.data.QuizTitles,e.initQuizSectionsChoices=e.quizSections,e.initQuizTitlesChoices=e.quizTitles,e.quizzes=t.data.Quizzes),e.loading=!1})).catch((function(e){console.log(e)}))},editItem:function(e){this.editedIndex=this.quizzes.indexOf(e),this.editedItem=Object.assign({},e),this.editedItem.QuizLevelID=this.quizTitle.QuizSection.QuizLevelID,this.editedItem.QuizSectionID=this.quizTitle.QuizSectionID,this.editedItem.QuizTitleID=this.quizTitle.ID,this.quizSectionsChoices=this.initQuizSectionsChoices,this.quizTitlesChoices=this.initQuizTitlesChoices,this.dialog=!0},deleteItem:function(e){this.editedIndex=this.quizzes.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(e){var t=this;this.$adminHttp.delete("/admin/quizzes/".concat(e.ID)).then((function(e){null!=e.data?(console.log(e.data),t.setFlashMessage({type:"warning",message:"Failed to delete ..."})):(t.quizzes.splice(t.editedIndex,1),t.closeDelete(),t.setFlashMessage({type:"success",message:"Delete successfully"}))})).catch((function(e){console.log(e)}))},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1,e.errorMessages=[]}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},getQuizSections:function(){var e=this;this.$adminHttp.get("/admin/quiz_sections/get_quiz_sections_by_quiz_level_id/".concat(this.editedItem.QuizLevelID)).then((function(t){null!=t.data.ErrorMessages?e.errorMessages=t.data.ErrorMessages:(e.quizSectionsChoices=t.data,e.editedItem.QuizSectionID=0)})).catch((function(t){console.log(t),e.errorMessages=["Something went wrong. Please try again"]}))},validation:function(){return!!this.$refs.form.validate()},create:function(){var e=this;this.validation()&&this.$adminHttp.post("/admin/quizzes",{QuizTitleID:this.quizTitle.ID,Question:this.editedItem.Question,Answer:this.editedItem.Answer,Choice1:this.editedItem.Choice1,Choice2:this.editedItem.Choice2,Choice3:this.editedItem.Choice3}).then((function(t){null!=t.data.ErrorMessages?e.errorMessages=t.data.ErrorMessages:(e.quizzes.push(t.data),e.close(),e.setFlashMessage({type:"success",message:"Created successfully"}))})).catch((function(t){console.log(t),e.errorMessages=["Something went wrong. Please try again"]}))},update:function(){var e=this;this.validation()&&this.$adminHttp.put("/admin/quizzes/".concat(this.editedItem.ID),{QuizTitleID:this.quizTitle.ID,Question:this.editedItem.Question,Answer:this.editedItem.Answer,Choice1:this.editedItem.Choice1,Choice2:this.editedItem.Choice2,Choice3:this.editedItem.Choice3}).then((function(t){null!=t.data?e.errorMessages=t.data.ErrorMessages:(e.quizTitle.ID===e.editedItem.QuizTitleID?(Object.assign(e.quizzes[e.editedIndex],e.editedItem),e.setFlashMessage({type:"success",message:"Changes have been saved"})):(e.quizzes.splice(e.editedIndex,1),e.setFlashMessage({type:"success",message:"it was moved to another Quiz Section"})),e.close())})).catch((function(t){console.log(t),e.setFlashMessage({type:"error",message:"Something went wrong. Please try again"})}))}})},xs=bs,zs=Object(m["a"])(xs,ds,us,!1,null,null,null),Is=zs.exports;v()(zs,{VBtn:De["a"],VCard:Ke["a"],VCardActions:Se["a"],VCardText:Se["b"],VCardTitle:Se["c"],VContainer:H["a"],VDataTable:rs["a"],VDialog:Ye["a"],VDivider:We["a"],VForm:Qe["a"],VIcon:Ge["a"],VSpacer:w["a"],VTextField:be["a"],VToolbar:os["a"]});var ys={template:"<router-view></router-view>"},ws={path:"/admin/quiz_titles",component:ys,beforeEnter:function(e,t,a){se.state.adminLoginStatus.token?a():a("/admin_login")},children:[{path:"",name:"IndexQuizTitle",component:cs},{path:":id",name:"ShowQuizTitle",component:Is}]},_s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(" Quiz Sections "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{headers:e.headers,items:e.quizSections,"sort-by":e.headers,search:e.search,loading:e.loading,"loading-text":"Loading... Please wait"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-spacer"),a("v-toolbar",{attrs:{flat:""}},[a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,i=t.attrs;return[a("v-spacer"),a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{small:"",color:"primary"}},"v-btn",i,!1),s),[e._v(" New ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle)+" Quiz Section")])]),a("v-card-text",[a("v-container",[a("ErrorMessages",{attrs:{errorMessages:e.errorMessages}}),a("v-form",{ref:"form"},[a("MySelect",e._b({attrs:{label:"Quiz Level",items:e.quizLevels,itemText:"Name",itemValue:"ID"},model:{value:e.editedItem.QuizLevelID,callback:function(t){e.$set(e.editedItem,"QuizLevelID",t)},expression:"editedItem.QuizLevelID"}},"MySelect",e.quizLevelRules,!1)),a("MyInput",e._b({attrs:{label:"Name"},model:{value:e.editedItem.Name,callback:function(t){e.$set(e.editedItem,"Name",t)},expression:"editedItem.Name"}},"MyInput",e.nameRules,!1))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),-1!=e.editedIndex?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.update}},[e._v(" Update ")]):e._e(),-1===e.editedIndex?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.create}},[e._v(" create ")]):e._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.deleteItemConfirm(e.editedItem)}}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.CreatedAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.changeFormat(a.CreatedAt,"yyyy/M/d H:m"))+" ")]}},{key:"item.UpdatedAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.changeFormat(a.UpdatedAt,"yyyy/M/d H:m"))+" ")]}},{key:"item.actions",fn:function(t){var s=t.item;return[a("router-link",{attrs:{to:{name:"ShowQuizSection",params:{id:s.ID}}}},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v(" mdi-open-in-new ")])],1),a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"primary"},on:{click:function(t){return e.editItem(s)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(t){return e.deleteItem(s)}}},[e._v(" mdi-delete ")])]}}])})],1)},Cs=[],Ms={name:"ShowQuizSection",components:{MyInput:ze,MySelect:as,ErrorMessages:he},mixins:[ss],data:function(){return{loading:!1,headers:[{text:"ID",align:"start",value:"ID"},{text:"Name",value:"Name"},{text:"Level",value:"QuizLevel.Name"},{text:"CreatedAt",value:"CreatedAt"},{text:"UpdatedAt",value:"UpdatedAt"},{text:"Actions",value:"actions",sortable:!1}],search:"",dialog:!1,dialogDelete:!1,editedIndex:-1,editedItem:{QuizLevelID:"",QuizSectionID:"",Name:"",Rate:1},defaultItem:{QuizSectionID:"",Name:"",Rate:1},quizLevels:[],quizSections:[],quizLevelRules:{required:!0},nameRules:{max:40,required:!0},errorMessages:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New":"Edit"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},mounted:function(){this.fetchData()},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])({setFlashMessage:"flashMessage/set"})),{},{fetchData:function(){var e=this;this.loading=!0,this.$adminHttp.get("/admin/quiz_sections").then((function(t){null!=t.data.ErrorMessages?(console.log(t.data.ErrorMessages),e.setFlashMessage({type:"warning",message:"Failed to fetch data ..."})):(e.quizLevels=t.data.QuizLevels,e.quizSections=t.data.QuizSections),e.loading=!1})).catch((function(e){console.log(e)}))},editItem:function(e){this.editedIndex=this.quizSections.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.quizSections.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(e){var t=this;this.$adminHttp.delete("/admin/quiz_sections/".concat(e.ID)).then((function(e){null!=e.data?(console.log(e.data),t.setFlashMessage({type:"warning",message:"Failed to delete ..."})):(t.quizSections.splice(t.editedIndex,1),t.closeDelete(),t.setFlashMessage({type:"success",message:"Delete successfully"}))})).catch((function(e){console.log(e)}))},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1,e.errorMessages=[]}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},validation:function(){return!!this.$refs.form.validate()},create:function(){var e=this;this.validation()&&this.$adminHttp.post("/admin/quiz_sections",{QuizLevelID:this.editedItem.QuizLevelID,Name:this.editedItem.Name}).then((function(t){null!=t.data.ErrorMessages?e.errorMessages=t.data.ErrorMessages:(e.quizSections.push(t.data),e.close(),e.setFlashMessage({type:"success",message:"Created successfully"}))})).catch((function(t){console.log(t),e.errorMessages=["Something went wrong. Please try again"]}))},update:function(){var e=this;this.validation()&&this.$adminHttp.put("/admin/quiz_sections/".concat(this.editedItem.ID),{QuizLevelID:this.editedItem.QuizLevelID,Name:this.editedItem.Name}).then((function(t){null!=t.data.ErrorMessages?e.errorMessages=t.data.ErrorMessages:(Object.assign(e.quizSections[e.editedIndex],t.data),e.setFlashMessage({type:"success",message:"Changes have been saved"}),e.close())})).catch((function(t){console.log(t),e.setFlashMessage({type:"error",message:"Something went wrong. Please try again"})}))}})},ks=Ms,js=Object(m["a"])(ks,_s,Cs,!1,null,null,null),Ds=js.exports;v()(js,{VBtn:De["a"],VCard:Ke["a"],VCardActions:Se["a"],VCardText:Se["b"],VCardTitle:Se["c"],VContainer:H["a"],VDataTable:rs["a"],VDialog:Ye["a"],VForm:Qe["a"],VIcon:Ge["a"],VSpacer:w["a"],VTextField:be["a"],VToolbar:os["a"]});var Ss=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(" "+e._s(this.quizSection.Name)+" ")]),a("v-divider",{staticClass:"mx-5"}),a("v-card-title",[e._v(" Quiz Titles in "+e._s(this.quizSection.Name)+" "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{headers:e.headers,items:e.quizTitles,"sort-by":e.headers,search:e.search,loading:e.loading,"loading-text":"Loading... Please wait"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-spacer"),a("v-toolbar",{attrs:{flat:""}},[a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,i=t.attrs;return[a("v-spacer"),a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{small:"",color:"primary"}},"v-btn",i,!1),s),[e._v(" New ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle)+" Quiz Title")])]),a("v-card-text",[a("v-container",[a("ErrorMessages",{attrs:{errorMessages:e.errorMessages}}),-1!=e.editedIndex?a("MySelect",{attrs:{label:"Quiz Level",items:e.quizLevels,itemText:"Name",itemValue:"ID"},on:{change:e.getQuizSections},model:{value:e.editedItem.QuizLevelID,callback:function(t){e.$set(e.editedItem,"QuizLevelID",t)},expression:"editedItem.QuizLevelID"}}):e._e(),a("v-form",{ref:"form"},[-1!=e.editedIndex?a("MySelect",e._b({attrs:{label:"Quiz Section",items:e.quizSectionsChoices,itemText:"Name",itemValue:"ID"},model:{value:e.editedItem.QuizSectionID,callback:function(t){e.$set(e.editedItem,"QuizSectionID",t)},expression:"editedItem.QuizSectionID"}},"MySelect",e.quizSectionRules,!1)):e._e(),a("MyInput",e._b({attrs:{label:"Name"},model:{value:e.editedItem.Name,callback:function(t){e.$set(e.editedItem,"Name",t)},expression:"editedItem.Name"}},"MyInput",e.nameRules,!1)),a("MySelect",{attrs:{label:"Rate",items:e.rateArray},model:{value:e.editedItem.Rate,callback:function(t){e.$set(e.editedItem,"Rate",t)},expression:"editedItem.Rate"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),-1!=e.editedIndex?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.update}},[e._v(" Update ")]):e._e(),-1===e.editedIndex?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.create}},[e._v(" create ")]):e._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.deleteItemConfirm(e.editedItem)}}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.CreatedAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.changeFormat(a.CreatedAt,"yyyy/M/d H:m"))+" ")]}},{key:"item.UpdatedAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.changeFormat(a.UpdatedAt,"yyyy/M/d H:m"))+" ")]}},{key:"item.actions",fn:function(t){var s=t.item;return[a("router-link",{attrs:{to:{name:"ShowQuizTitle",params:{id:s.ID}}}},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v(" mdi-open-in-new ")])],1),a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"primary"},on:{click:function(t){return e.editItem(s)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(t){return e.deleteItem(s)}}},[e._v(" mdi-delete ")])]}}])})],1)},Qs=[],qs={name:"ShowQuizSection",components:{MyInput:ze,MySelect:as,ErrorMessages:he},mixins:[ss],data:function(){return{loading:!1,headers:[{text:"ID",align:"start",value:"ID"},{text:"Name",value:"Name"},{text:"Rate",value:"Rate"},{text:"CreatedAt",value:"CreatedAt"},{text:"UpdatedAt",value:"UpdatedAt"},{text:"Actions",value:"actions",sortable:!1}],search:"",dialog:!1,dialogDelete:!1,editedIndex:-1,editedItem:{QuizLevelID:"",QuizSectionID:"",Name:"",Rate:1},defaultItem:{QuizSectionID:"",Name:"",Rate:1},quizLevels:[],quizSection:"",quizSections:[],initQuizSectionsChoices:"",quizSectionsChoices:[],quizTitles:[],quizSectionRules:{required:!0},nameRules:{max:40,required:!0},errorMessages:[],rateArray:Object(ia["a"])(Array(41)).map((function(e,t){return Math.round(10*(.1*t+1))/10}))}},computed:{formTitle:function(){return-1===this.editedIndex?"New":"Edit"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},mounted:function(){this.fetchData()},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])({setFlashMessage:"flashMessage/set"})),{},{fetchData:function(){var e=this;this.loading=!0,this.$adminHttp.get("/admin/quiz_sections/".concat(this.$route.params.id)).then((function(t){null!=t.data.ErrorMessages?(console.log(t.data.ErrorMessages),e.setFlashMessage({type:"warning",message:"Failed to fetch data ..."})):(e.quizLevels=t.data.QuizLevels,e.quizSection=t.data.QuizSection,e.quizSections=t.data.QuizSections,e.initQuizSectionsChoices=e.quizSections,e.quizTitles=t.data.QuizSection.QuizTitles),e.loading=!1})).catch((function(e){console.log(e)}))},editItem:function(e){this.editedIndex=this.quizTitles.indexOf(e),this.editedItem=Object.assign({},e),this.editedItem.QuizLevelID=this.quizSection.QuizLevelID,this.editedItem.QuizSectionID=this.quizSection.ID,this.quizSectionsChoices=this.initQuizSectionsChoices,this.dialog=!0},deleteItem:function(e){this.editedIndex=this.quizTitles.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(e){var t=this;this.$adminHttp.delete("/admin/quiz_titles/".concat(e.ID)).then((function(e){null!=e.data?(console.log(e.data),t.setFlashMessage({type:"warning",message:"Failed to delete ..."})):(t.quizTitles.splice(t.editedIndex,1),t.closeDelete(),t.setFlashMessage({type:"success",message:"Delete successfully"}))})).catch((function(e){console.log(e)}))},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1,e.errorMessages=[]}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},getQuizSections:function(){var e=this;this.$adminHttp.get("/admin/quiz_sections/get_quiz_sections_by_quiz_level_id/".concat(this.editedItem.QuizLevelID)).then((function(t){null!=t.data.ErrorMessages?e.errorMessages=t.data.ErrorMessages:(e.quizSectionsChoices=t.data,alert(e.SectionsChoices[0]),e.editedItem.QuizSectionID=0)})).catch((function(t){console.log(t),e.errorMessages=["Something went wrong. Please try again"]}))},validation:function(){return!!this.$refs.form.validate()},create:function(){var e=this;this.validation()&&this.$adminHttp.post("/admin/quiz_titles",{QuizSectionID:this.quizSection.ID,Name:this.editedItem.Name,Rate:this.editedItem.Rate}).then((function(t){null!=t.data.ErrorMessages?e.errorMessages=t.data.ErrorMessages:(e.quizTitles.push(t.data),e.close(),e.setFlashMessage({type:"success",message:"Created successfully"}))})).catch((function(t){console.log(t),e.errorMessages=["Something went wrong. Please try again"]}))},update:function(){var e=this;this.validation()&&this.$adminHttp.put("/admin/quiz_titles/".concat(this.editedItem.ID),{QuizSectionID:this.editedItem.QuizSectionID,Name:this.editedItem.Name,Rate:this.editedItem.Rate}).then((function(t){null!=t.data?e.errorMessages=t.data.ErrorMessages:(e.quizSection.ID===e.editedItem.QuizSectionID?(Object.assign(e.quizTitles[e.editedIndex],e.editedItem),e.setFlashMessage({type:"success",message:"Changes have been saved"})):(e.quizTitles.splice(e.editedIndex,1),e.setFlashMessage({type:"success",message:"it was moved to another Quiz Section"})),e.close())})).catch((function(t){console.log(t),alert(t),e.setFlashMessage({type:"error",message:"Something went wrong. Please try again"})}))}})},Ts=qs,Os=Object(m["a"])(Ts,Ss,Qs,!1,null,null,null),Vs=Os.exports;v()(Os,{VBtn:De["a"],VCard:Ke["a"],VCardActions:Se["a"],VCardText:Se["b"],VCardTitle:Se["c"],VContainer:H["a"],VDataTable:rs["a"],VDialog:Ye["a"],VDivider:We["a"],VForm:Qe["a"],VIcon:Ge["a"],VSpacer:w["a"],VTextField:be["a"],VToolbar:os["a"]});var Ls={template:"<router-view></router-view>"},Es={path:"/admin/quiz_sections",component:Ls,beforeEnter:function(e,t,a){se.state.adminLoginStatus.token?a():a("/admin_login")},children:[{path:"",name:"IndexQuizSection",component:Ds},{path:":id",name:"ShowQuizSection",component:Vs}]},As=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(" Quiz Levels "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{headers:e.headers,items:e.quizLevels,"sort-by":e.headers,search:e.search,loading:e.loading,"loading-text":"Loading... Please wait"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-spacer"),a("v-toolbar",{attrs:{flat:""}},[a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,i=t.attrs;return[a("v-spacer"),a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{small:"",color:"primary"}},"v-btn",i,!1),s),[e._v(" New ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("ErrorMessages",{attrs:{errorMessages:e.errorMessages}}),a("v-form",{ref:"form"},[a("MyInput",e._b({attrs:{label:"Name"},model:{value:e.editedItem.Name,callback:function(t){e.$set(e.editedItem,"Name",t)},expression:"editedItem.Name"}},"MyInput",e.nameRules,!1))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),-1!=e.editedIndex?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.update}},[e._v(" Update ")]):e._e(),-1===e.editedIndex?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.create}},[e._v(" Create ")]):e._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.deleteItemConfirm(e.editedItem)}}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.CreatedAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.changeFormat(a.CreatedAt,"yyyy/M/d H:m:s"))+" ")]}},{key:"item.UpdatedAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.changeFormat(a.UpdatedAt,"yyyy/M/d H:m:s"))+" ")]}},{key:"item.actions",fn:function(t){var s=t.item;return[a("router-link",{attrs:{to:{name:"ShowQuizLevel",params:{id:s.ID}}}},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v(" mdi-open-in-new ")])],1),a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"primary"},on:{click:function(t){return e.editItem(s)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(t){return e.deleteItem(s)}}},[e._v(" mdi-delete ")])]}}])})],1)},Ns=[],$s={name:"IndexQuizLevel",components:{MyInput:ze,ErrorMessages:he},mixins:[ss],data:function(){return{loading:!1,headers:[{text:"ID",align:"start",value:"ID"},{text:"Name",value:"Name"},{text:"CreatedAt",value:"CreatedAt"},{text:"UpdatedAt",value:"UpdatedAt"},{text:"Actions",value:"actions",sortable:!1}],quizLevels:[],search:"",dialog:!1,dialogDelete:!1,editedIndex:-1,editedItem:{Name:""},defaultItem:{Name:""},nameRules:{max:40,required:!0},errorMessages:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New":"Edit"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},mounted:function(){this.fetchData()},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])({setFlashMessage:"flashMessage/set"})),{},{fetchData:function(){var e=this;this.loading=!0,this.$adminHttp.get("/admin/quiz_levels").then((function(t){null!=t.data.ErrorMessages?(console.log(t.data.ErrorMessages),e.setFlashMessage({type:"error",message:"Failed to get data ..."})):e.quizLevels=t.data,e.loading=!1})).catch((function(e){console.log(e)}))},editItem:function(e){this.editedIndex=this.quizLevels.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.quizLevels.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(e){var t=this;this.$adminHttp.delete("/admin/quiz_levels/".concat(e.ID)).then((function(e){null!=e.data?(console.log(e.data),t.setFlashMessage({type:"warning",message:"Failed to delete ..."})):(t.quizLevels.splice(t.editedIndex,1),t.closeDelete(),t.setFlashMessage({type:"success",message:"Delete successfully"}))})).catch((function(e){console.log(e)}))},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1,e.errorMessages=[]}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},validation:function(){return!!this.$refs.form.validate()},create:function(){var e=this;this.validation()&&this.$adminHttp.post("/admin/quiz_levels",{Name:this.editedItem.Name}).then((function(t){null!=t.data.ErrorMessages?e.errorMessages=t.data.ErrorMessages:(e.quizLevels.push(t.data),e.setFlashMessage({type:"success",message:"Created successfully"}),e.close())})).catch((function(t){console.log(t),e.errorMessages=["Something went wrong. Please try again"]}))},update:function(){var e=this;this.validation()&&this.$adminHttp.put("/admin/quiz_levels/".concat(this.editedItem.ID),{Name:this.editedItem.Name}).then((function(t){null!=t.data.ErrorMessages?e.errorMessages=t.data.ErrorMessages:(Object.assign(e.quizLevels[e.editedIndex],e.editedItem),e.setFlashMessage({type:"success",message:"Changes have been saved"}),e.close())})).catch((function(t){console.log(t),e.errorMessages=["Something went wrong. Please try again"]}))}})},Ps=$s,Fs=Object(m["a"])(Ps,As,Ns,!1,null,null,null),Rs=Fs.exports;v()(Fs,{VBtn:De["a"],VCard:Ke["a"],VCardActions:Se["a"],VCardText:Se["b"],VCardTitle:Se["c"],VContainer:H["a"],VDataTable:rs["a"],VDialog:Ye["a"],VForm:Qe["a"],VIcon:Ge["a"],VSpacer:w["a"],VTextField:be["a"],VToolbar:os["a"]});var Hs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(" "+e._s(this.quizLevel.Name)+" ")]),a("v-divider",{staticClass:"mx-5"}),a("v-card-title",[e._v(" Quiz Sections in "+e._s(this.quizLevel.Name)+" "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{headers:e.headers,items:e.quizSections,"sort-by":e.headers,search:e.search,loading:e.loading,"loading-text":"Loading... Please wait"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-spacer"),a("v-toolbar",{attrs:{flat:""}},[a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,i=t.attrs;return[a("v-spacer"),a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{small:"",color:"primary"}},"v-btn",i,!1),s),[e._v(" New ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle)+" Quiz Seciton")])]),a("v-card-text",[a("v-container",[a("ErrorMessages",{attrs:{errorMessages:e.errorMessages}}),a("v-form",{ref:"form"},[-1!=e.editedIndex?a("MySelect",{attrs:{label:"Quiz Level",items:e.quizLevels,itemText:"Name",itemValue:"ID"},model:{value:e.editedItem.QuizLevelID,callback:function(t){e.$set(e.editedItem,"QuizLevelID",t)},expression:"editedItem.QuizLevelID"}}):e._e(),a("MyInput",e._b({attrs:{label:"Name"},model:{value:e.editedItem.Name,callback:function(t){e.$set(e.editedItem,"Name",t)},expression:"editedItem.Name"}},"MyInput",e.nameRules,!1))],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),-1!=e.editedIndex?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.update}},[e._v(" Update ")]):e._e(),-1===e.editedIndex?a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.create}},[e._v(" create ")]):e._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.deleteItemConfirm(e.editedItem)}}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.CreatedAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.changeFormat(a.CreatedAt,"yyyy/M/d H:m:s"))+" ")]}},{key:"item.UpdatedAt",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.changeFormat(a.UpdatedAt,"yyyy/M/d H:m:s"))+" ")]}},{key:"item.actions",fn:function(t){var s=t.item;return[a("router-link",{attrs:{to:{name:"ShowQuizSection",params:{id:s.ID}}}},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v(" mdi-open-in-new ")])],1),a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"primary"},on:{click:function(t){return e.editItem(s)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(t){return e.deleteItem(s)}}},[e._v(" mdi-delete ")])]}}])})],1)},Us=[],Bs={name:"ShowQuizLevel",components:{MyInput:ze,MySelect:as,ErrorMessages:he},mixins:[ss],data:function(){return{loading:!1,headers:[{text:"ID",align:"start",value:"ID"},{text:"Name",value:"Name"},{text:"CreatedAt",value:"CreatedAt"},{text:"UpdatedAt",value:"UpdatedAt"},{text:"Actions",value:"actions",sortable:!1}],quizLevel:"",quizLevels:[],quizSections:[],search:"",dialog:!1,dialogDelete:!1,editedIndex:-1,editedItem:{QuizLevelID:"",Name:""},defaultItem:{QuizLevelID:"",Name:""},nameRules:{max:40,required:!0},errorMessages:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"New":"Edit"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},mounted:function(){this.fetchData()},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])({setFlashMessage:"flashMessage/set"})),{},{fetchData:function(){var e=this;this.loading=!0,this.$adminHttp.get("/admin/quiz_levels/".concat(this.$route.params.id)).then((function(t){null!=t.data.ErrorMessages?(console.log(t.data.ErrorMessages),e.setFlashMessage({type:"warning",message:"Failed to fetch data ..."})):(e.quizLevel=t.data.QuizLevel,e.quizLevels=t.data.QuizLevels,e.quizSections=t.data.QuizLevel.QuizSections),e.loading=!1})).catch((function(e){console.log(e)}))},editItem:function(e){this.editedIndex=this.quizSections.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.quizSections.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(e){var t=this;this.$adminHttp.delete("/admin/quiz_sections/".concat(e.ID)).then((function(e){null!=e.data?(console.log(e.data),t.setFlashMessage({type:"warning",message:"Failed to delete ..."})):(t.quizSections.splice(t.editedIndex,1),t.closeDelete(),t.setFlashMessage({type:"success",message:"Delete successfully"}))})).catch((function(e){console.log(e)}))},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1,e.errorMessages=[]}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},validation:function(){return!!this.$refs.form.validate()},create:function(){var e=this;this.validation()&&this.$adminHttp.post("/admin/quiz_sections",{QuizLevelID:this.quizLevel.ID,Name:this.editedItem.Name}).then((function(t){null!=t.data.ErrorMessages?e.errorMessages=t.data.ErrorMessages:(e.quizSections.push(t.data),e.close(),e.setFlashMessage({type:"success",message:"Created successfully"}))})).catch((function(t){console.log(t),e.errorMessages=["Something went wrong. Please try again"]}))},update:function(){var e=this;this.validation()&&this.$adminHttp.put("/admin/quiz_sections/".concat(this.editedItem.ID),{QuizLevelID:this.editedItem.QuizLevelID,Name:this.editedItem.Name}).then((function(t){null!=t.data.ErrorMessages?e.errorMessages=t.data.ErrorMessages:(e.quizLevel.ID===e.editedItem.QuizLevelID?(Object.assign(e.quizSections[e.editedIndex],e.editedItem),e.setFlashMessage({type:"success",message:"Changes have been saved"})):(e.quizSections.splice(e.editedIndex,1),e.setFlashMessage({type:"success",message:"it was moved to another Quiz Level"})),e.close())})).catch((function(t){console.log(t),e.setFlashMessage({type:"error",message:"Something went wrong. Please try again"})}))}})},Js=Bs,Ks=Object(m["a"])(Js,Hs,Us,!1,null,null,null),Ys=Ks.exports;v()(Ks,{VBtn:De["a"],VCard:Ke["a"],VCardActions:Se["a"],VCardText:Se["b"],VCardTitle:Se["c"],VContainer:H["a"],VDataTable:rs["a"],VDialog:Ye["a"],VDivider:We["a"],VForm:Qe["a"],VIcon:Ge["a"],VSpacer:w["a"],VTextField:be["a"],VToolbar:os["a"]});var Ws={template:"<router-view/>"},Gs={path:"/admin/quiz_levels",component:Ws,beforeEnter:function(e,t,a){se.state.adminLoginStatus.token?a():a("/admin_login")},children:[{path:"",name:"IndexQuizLevel",component:Rs},{path:":id",name:"ShowQuizLevel",component:Ys}]},Xs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[e._v(" Users "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{headers:e.headers,items:e.users,"sort-by":"headers",search:e.search},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var s=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(s)}}},[e._v(" mdi-delete ")])]}}])},[a("v-toolbar",[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)],1)],1)},Zs=[],ei={name:"Mytable",data:function(){return{users:[],headers:[{text:"ID",value:"ID"},{text:"Name",value:"Name"},{text:"Experience",value:"Experience"},{text:"Created Date",value:"CreatedAt"},{text:"Updated Date",value:"UpdatedAt"},{text:"Actions",value:"actions",sortable:!1}],dialog:!1,dialogDelete:!1,search:"",selected:[],editedItem:{Name:""},defaultItem:{Name:""}}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.fetchData()},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])({setFlashMessage:"flashMessage/set"})),{},{fetchData:function(){var e=this;this.$adminHttp.get("/admin/users").then((function(t){null!=t.data.ErrorMessages&&(console.log(t.data.ErrorMessages),e.setFlashMessage({type:"error",message:"Failed to fetch data ..."}),e.$router.push({path:"/admin/home"})),e.users=t.data.Users})).catch((function(e){console.log(e)}))},deleteItem:function(e){this.editedIndex=this.users.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){var e=this;this.$adminHttp.delete("/admin/users/".concat(this.editedItem.ID)).then((function(t){null!=t.data?(console.log(t.data),e.setFlashMessage("error","Failed to delete ...")):(e.users.splice(e.editedIndex,1),e.closeDelete())})).catch((function(t){console.log(t),e.setFlashMessage("error","Failed to delete ...")}))},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?Object.assign(this.users[this.editedIndex],this.editedItem):this.users.push(this.editedItem),this.close()}})},ti=ei,ai=Object(m["a"])(ti,Xs,Zs,!1,null,null,null),si=ai.exports;v()(ai,{VBtn:De["a"],VCard:Ke["a"],VCardActions:Se["a"],VCardTitle:Se["c"],VDataTable:rs["a"],VDialog:Ye["a"],VIcon:Ge["a"],VSpacer:w["a"],VTextField:be["a"],VToolbar:os["a"]});var ii={template:"<router-view/>"},ni={path:"/admin/users",component:ii,beforeEnter:function(e,t,a){se.state.adminLoginStatus.token?a():a("/admin_login")},children:[{path:"",name:"IndexUser",component:si}]};s["a"].use(K["a"]);var ri={template:"<router-view/>"},oi=new K["a"]({routes:[{path:"/",name:"Root",component:Ze,beforeEnter:function(e,t,a){se.state.userLoginStatus.token?a("/home"):se.state.adminLoginStatus.token?a("/admin"):a()}},{path:"/dashboard",name:"Dashboard",component:ct,beforeRouteEnter:function(e,t,a){se.state.userLoginStatus.token?(alert("you are already logged in"),a("/")):a()}},Object(r["a"])({},Jt),Object(r["a"])({},pa),{path:"/admin_login",name:"adminLogin",component:ya,beforeEnter:function(e,t,a){se.state.adminLoginStatus.token?a("/admin/home"):a()}},{path:"/admin",component:ri,children:[{path:"home",name:"AdminHome",component:ja},{path:"edit",name:"AdminEdit",component:Oa}]},Object(r["a"])({},Gs),Object(r["a"])({},Es),Object(r["a"])({},ws),Object(r["a"])({},Ja),Object(r["a"])({},ni)]}),li=oi,ci=a("bc3a"),di=a.n(ci);di.a.defaults.baseURL="http://localhost:1323",di.a.defaults.headers.post["Content-Type"]="application/json;charset=utf-8";var ui=di.a.create({headers:{Accept:"application/json","Content-Type":"application/json;charset=utf-8"}}),mi=di.a.create({headers:{Accept:"application/json","Content-Type":"application/json;charset=utf-8"}});mi.interceptors.request.use((function(e){var t=se.state.userLoginStatus.token;if(t)return e.headers.common["Authorization"]="Bearer ".concat(t),e;throw alert("you are not logged in"),li.push({path:"/home"}),new di.a.Cancel("Not authorized")})),mi.interceptors.response.use((function(e){return"Invalid or Expired Token"!=e.message&&"missing or malformed jwt"!=e.message||(se.dispatch("userLoginStatus/unauthorize"),li.push("/auth/login")),e}),(function(e){return Promise.reject(e)}));var hi=di.a.create({headers:{Accept:"application/json","Content-Type":"application/json;charset=utf-8"}});hi.interceptors.request.use((function(e){var t=se.state.adminLoginStatus.token;if(t)return e.headers.common["Authorization"]="Bearer ".concat(t),e;throw li.push({path:"/admin_login"}),new di.a.Cancel("Not authorized")})),hi.interceptors.response.use((function(e){return"Invalid or Expired Token"!=e.message&&"missing or malformed jwt"!=e.message||(se.dispatch("adminrLoginStatus/unauthorize"),li.push("/admin_login")),e}),(function(e){return Promise.reject(e)}));var vi=a("2106"),fi=a.n(vi),pi=a("f309");a("5363");s["a"].use(pi["a"]);var gi=new pi["a"]({icons:{iconfont:"mdi"}});s["a"].mixin(ss),s["a"].config.productionTip=!1,s["a"].use(fi.a,di.a,at["default"]),s["a"].prototype.$axios=ui,s["a"].prototype.$userHttp=mi,s["a"].prototype.$adminHttp=hi,new s["a"]({el:"#app",router:li,store:se,vuetify:gi,components:{App:J},template:"<App/>"})},"85ec":function(e,t,a){},a5f3:function(e,t,a){},bd61:function(e,t,a){"use strict";a("a5f3")},d04e:function(e,t,a){"use strict";a("dfb9")},dfb9:function(e,t,a){},ee23:function(e,t,a){"use strict";a("1b12")},f04e:function(e,t,a){"use strict";a("2080")}});
//# sourceMappingURL=app.b28e09d5.js.map